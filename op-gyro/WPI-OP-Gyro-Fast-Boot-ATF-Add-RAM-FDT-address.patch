From 8beb4ac261384e10103b7442e43ffa165001c25c Mon Sep 17 00:00:00 2001
From: "wpi.ray" <ray.zhang@wpi-group.com>
Date: Wed, 31 Jul 2024 16:01:06 +0800
Subject: [PATCH] WPI: OP-Gyro: Fast Boot: Add RAM FDT address

---
 plat/imx/imx93/imx93_bl31_setup.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/plat/imx/imx93/imx93_bl31_setup.c b/plat/imx/imx93/imx93_bl31_setup.c
index 77004ddaa..cea0b3942 100644
--- a/plat/imx/imx93/imx93_bl31_setup.c
+++ b/plat/imx/imx93/imx93_bl31_setup.c
@@ -86,6 +86,11 @@ void bl31_early_platform_setup2(u_register_t arg0, u_register_t arg1,
 	 */
 	bl33_image_ep_info.pc = PLAT_NS_IMAGE_OFFSET;
 	bl33_image_ep_info.spsr = get_spsr_for_bl33_entry();
+	// RAM FDT address
+	bl33_image_ep_info.args.arg0 = (u_register_t)0x83000000;
+	bl33_image_ep_info.args.arg1 = 0U;
+	bl33_image_ep_info.args.arg2 = 0U;
+	bl33_image_ep_info.args.arg3 = 0U;
 	SET_SECURITY_STATE(bl33_image_ep_info.h.attr, NON_SECURE);
 
 #if defined(SPD_opteed) || defined(SPD_trusty)
-- 
2.25.1

